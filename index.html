<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang Web Của Tôi</title>
    <style>
        /* SỬA LỖI ẢNH: Vừa khung và không bị méo */
        .image-gallery img {
            width: 100%;       /* Chiều rộng chiếm hết khung chứa */
            height: 250px;     /* Bạn có thể tùy chỉnh chiều cao cố định */
            
            /* Lệnh quan trọng nhất để ảnh không bị méo */
            object-fit: cover; 
            
            display: block;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        /* SỬA LỖI CAMERA: Vừa khung điện thoại */
        .video-container {
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
            overflow: hidden;
            border-radius: 15px;
            background: #000;
        }

        video {
            width: 100%;    /* Camera luôn vừa khít khung chứa */
            height: auto;
            display: block;
            /* Soi gương cho camera trước tự nhiên */
            transform: scaleX(-1); 
        }

        button {
            display: block;
            margin: 20px auto;
            padding: 12px 24px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
        }
    </style>
</head>
<body>

    <div class="image-gallery">
        <img src="anh1.jpg" alt="Ảnh 1">
        <img src="anh2.jpg" alt="Ảnh 2">
    </div>

    <div class="video-container">
        <video id="video" autoplay playsinline muted></video>
    </div>
    
    <button id="startCam">Bật Camera</button>

    <script>
        const video = document.getElementById('video');
        const button = document.getElementById('startCam');

        button.addEventListener('click', async () => {
            try {
                // Cấu hình chuẩn cho cả máy tính và điện thoại
                const stream = await navigator.mediaDevices.getUserMedia({ 
                    video: { 
                        facingMode: "user", // Ưu tiên cam trước
                        width: { ideal: 1280 },
                        height: { ideal: 720 }
                    } 
                });
                video.srcObject = stream;
                button.textContent = "Camera đang hoạt động";
                button.disabled = true;
                button.style.backgroundColor = "#28a745";
            } catch (err) {
                alert("Lỗi: Không thể mở Camera. Hãy đảm bảo bạn dùng link HTTPS và đã cho phép quyền truy cập!");
                console.error(err);
            }
        });
    </script>

</body>
</html>